// Default HTTP Handlers serving common routes

package handlers

import (
	"net/http"

	"{{ cookiecutter.project_name|lower }}/config"

	"github.com/labstack/echo"
	"github.com/nvellon/hal"
)

// GET /__healthcheck__
// The Healthcheck endpoint returns the current version with a 200 response
func Healthcheck(ctx echo.Context) error {
	uri := ctx.Request().URI()
	resource := hal.NewResource(struct {
		Version string `json:"version"`
	}{
		Version: config.Version(),
	}, uri)

	return ctx.JSON(http.StatusOK, resource)
}
