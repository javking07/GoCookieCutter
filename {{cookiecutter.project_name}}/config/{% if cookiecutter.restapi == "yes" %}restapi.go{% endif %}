// Web Server Configuration

package config

import "github.com/spf13/viper"

// Logger viper path lookup, example:
//
// [restapi]
// bind = "127.0.0.1"
// port = 5000
const (
	vRestAPIBind = "restapi.bind"
	vRestAPIPort = "restapi.port"
)

type RestAPI struct {
	Bind string
	Port int
}

func NewRestAPIConfig() RestAPI {
	// Bind IP Address, default ""
	if !viper.IsSet(vRestAPIBind) {
		viper.Set(vRestAPIBind, "")
	}

	// Port Number, default 5000
	if !viper.IsSet(vRestAPIPort) {
		viper.Set(vRestAPIPort, 5000)
	}

	return RestAPI{
		Bind: viper.GetString(vRestAPIBind),
		Port: viper.GetInt(vRestAPIPort),
	}
}
